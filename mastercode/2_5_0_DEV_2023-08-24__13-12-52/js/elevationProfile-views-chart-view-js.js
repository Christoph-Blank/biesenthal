(window.webpackJsonp=window.webpackJsonp||[]).push([[203,201],{1840:function(t,s,c){"use strict";c.r(s),function(e){c.d(s,"transformCoordinatesLocalToWgs84Projection",function(){return t}),c.d(s,"transformCoordinatesWgs84ToLocalProjection",function(){return n}),c.d(s,"transformCoordinatesLocalToEPSG25833Projection",function(){return a}),c.d(s,"transformCoordinatesEPSG25833ToLocalProjection",function(){return o}),c.d(s,"calculateRelativeDistance",function(){return i});var r=c(55),d=c(63),f=c(50),h=c(1);function t(t){return Object(r.e)(e.request("MapView","getProjection").getCode(),"EPSG:4326",t)}function n(t){return Object(r.e)("EPSG:4326",e.request("MapView","getProjection").getCode(),t)}function a(t){return Object(r.e)(e.request("MapView","getProjection").getCode(),"EPSG:25833",t)}function o(t){return Object(r.e)("EPSG:25833",e.request("MapView","getProjection").getCode(),t)}function i(t,e){for(var r=t.getGeometry(),n=r.getClosestPoint(e),a=r.getCoordinates(),o=0,i=!1,s=0;s<a.length-1;s++){var c=a[s],l=a[s+1],u=new d.a([c,l]);if(u.intersectsExtent(Object(h.c)(new f.a(n).getExtent(),.001))){o+=new d.a([c,n]).getLength(),i=!0;break}o+=u.getLength()}return i?o/r.getLength():0}}.call(this,c(4))},1933:function(t,s,c){"use strict";c.r(s),function(t,e,R,T,a){var F=c(475),V=c(476),W=c(155),q=c(66),D=c(56),z=c(57),I=c(273),J=c(260),B=c(51),r=c(2097),n=c.n(r),N=c(36),U=c(50),$=c(23),H=c(78),K=c(34),Q=c(37),X=c(1840);function Y(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=t.View.extend({model:null,statusTemplate:e.template(n.a),pointerListeners:[],initialize:function(){this.listenTo(this.model,{"change:elevationResult":this.render,"change:isLoadingElevation":this.render},this)},getContainer:function(){return R("#elevation-chart")},destroy:function(e){var r=this;return new Promise(function(t){r.pointerListeners.forEach(function(t){return T.trigger("Map","unregisterListener","pointermove",t)}),r.pointerListeners.length=0,e&&r.getContainer().children().length?r.getContainer().children().fadeOut(100,function(){t()}):(r.getContainer().empty(),t())})},render:function(t){var e=this,r=a.t("additional:elevationProfile",{returnObjects:!0}),n=1!=t;this.destroy(n).then(function(){e.getContainer().empty(),!e.model.isMinimized()&&e.model.isOpen()&&(e.model.isLoadingElevation()||!e.model.getElevationResult()?e.renderStatusView({isLoading:!0,statusMessage:r.loadProfile}):e.model.getElevationResult().getError()?e.renderStatusView({hasError:!0,statusMessage:r[e.model.getElevationResult().getError().i18n]}):e.draw(n))})},renderStatusView:function(t){t=e.extend({hasError:!1,isLoading:!1,statusMessage:""},t),this.getContainer().append(this.statusTemplate(t)).fadeIn(200)},draw:function(t){function r(t){return t/1e3}var n=this,e=this.model.getElevationResult(),a=this.model.getElevationResult().getDistance()<3e3,g=e.convertToGraphData(),o=e.convertToGraphDataAsPairs(),m={top:5,right:20,bottom:20,left:40},i=this.getContainer().width()-m.left-m.right,v=this.getContainer().height()-m.top-m.bottom,s=this.model.getSettings().styleChart,y=Object(W.c)({decimal:","}),c=this.getThemeColor(),l=this.getThemeColorString(),u=s.ascentColorMax&&Array.isArray(s.ascentColorMax)?B.f.apply(void 0,Y(s.ascentColorMax)):Object(B.f)(l),d=s.ascentColorMin&&Array.isArray(s.ascentColorMin)?B.f.apply(void 0,Y(s.ascentColorMin)):Object(B.f)(l),b=Object(D.c)(function(t){return t.x}).left,C=function(t,e){return a?y.format(".0f")(t)+" m":y.format(e?".1f":".0f")(r(t))+" km"},f=Object(J.b)().clamp(!0).domain(s.ascentAngleRange).range([d,u]),h=Object(z.e)("#elevation-chart").append("svg").attr("width",this.getContainer().width()).attr("height",this.getContainer().height()).append("g").attr("transform","translate(".concat(m.left,", ").concat(m.top,")")).style("opacity",t?0:100),j=Object(J.b)().domain(Object(D.d)(g,function(t){return t.x})).range([0,i]);h.append("g").attr("transform","translate(0, ".concat(v,")")).call(Object(I.a)(j).ticks(8).tickFormat(function(t){return C(t,r(j.domain()[1])<8)}));var w=Object(J.b)().domain([Object(D.g)(g,function(t){return t.y}),Object(D.e)(g,function(t){return t.y})]).range([v,0]);h.append("g").call(Object(I.b)(w).ticks(Math.min(6,w.domain()[1]-w.domain()[0])).tickFormat(function(t){return y.format(".0f")(t)+" m"})),h.append("g").attr("class","elevationChartGrid").attr("transform","translate(0, ".concat(v,")")).call(Object(I.a)(j).ticks(8).tickSize(-v).tickFormat("")),h.append("g").attr("class","elevationChartGrid").call(Object(I.b)(w).ticks(6).tickSize(-i).tickFormat(""));var p=Object(F.a)().x(function(t){return j(t.x)}).y0(w(w.domain()[0])).y1(function(t){return w(t.y)});h.append("path").attr("d",p(g)).attr("class","elevationChartLineArea");var S=Object(F.b)().x(function(t){return j(t.x)}).y(function(t){return w(t.y)});h.selectAll(".elevationChartLine").data(o).enter().append("path").attr("d",S).attr("class","elevationChartLine").style("stroke",function(t){return f(((e=t)[1].y-e[0].y)/(e[1].x-e[0].x));var e});var x=h.append("g").attr("class","crossBar").style("display","none");x.append("line").attr("x1",0).attr("x2",0).attr("y1",v).attr("y2",0),this.getContainer().append('<div class=\'elevation-profile-hover-card\' style="display: none">\n            <span><i class="fas fa-arrows-alt-h"></i><span class="distance"></span></span>\n            <span><i class="fas fa-arrows-alt-v"></i><span class="height"></span></span>\n            </div>');var O=h.append("circle").attr("r",s.markerWidth).attr("class","marker").style("display","none").style("pointer-events","none"),M=new N.a({geometry:new U.a([0,0])}),E=new $.c({image:new H.a({radius:s.markerWidth,stroke:new K.a({color:c,width:Math.round(s.markerWidth/3)}),fill:new Q.a({color:[255,255,255]})})});M.setStyle(E);var k=this;function L(t){x.style("display",null),O.style("display","inherit"),R(".elevation-profile-hover-card").css("display","flex"),t&&k.model.hasSourceGeometry()&&!k.model.getSourceRoute().olSource.hasFeature(M)&&k.model.getSourceRoute().olSource.addFeature(M)}function P(){x.style("display","none"),O.style("display","none"),R(".elevation-profile-hover-card").css("display","none"),k.model.hasSourceGeometry()&&k.model.getSourceRoute().olSource.hasFeature(M)&&k.model.getSourceRoute().olSource.removeFeature(M)}function A(t,e){var r=j.invert(t),n=b(g,r),a=g[n<=0?0:n-1],o=g.length<=n?g[n-1]:g[n],i=Object(q.c)(a.y,o.y),s=o.x-a.x,c=n<=0||n==g.length?a.y:o.x===r?o.y:i(r%s/s);x.attr("transform","translate(".concat(j(r),", 0)")),O.attr("cx",t),O.attr("cy",w(c));var l=R(".elevation-profile-hover-card").outerWidth(!0),u=R(".elevation-profile-hover-card").height(),d=t+m.left-l/2,f=Math.min(Math.max(Math.round(d),0),R("#elevation-chart").width()-l);if(R(".elevation-profile-hover-card").css("left",f+"px"),w(c)<14?R(".elevation-profile-hover-card").css("top",v-u+"px"):R(".elevation-profile-hover-card").css("top","-3px"),R(".elevation-profile-hover-card .distance").text(C(r,!0)),R(".elevation-profile-hover-card .height").text(y.format(".0f")(c)+" m"),k.model.hasSourceGeometry()&&e){var h=Math.min(r/j.domain()[1],1),p=k.model.getSourceRoute().olFeature.getGeometry().getCoordinateAt(h);M.getGeometry().setCoordinates(p)}}if(k.model.hasSourceGeometry()){var G=function(t){var e=!1;(T.request("Map","getMap").forEachFeatureAtPixel(t.pixel,function(t){t===n.model.getSourceRoute().olFeature&&(e=!0)},{hitTolerance:14}),e)?(L(),A(Object(X.calculateRelativeDistance)(n.model.getSourceRoute().olFeature,t.coordinate)*i)):P();return!0};this.pointerListeners.push(G),T.trigger("Map","registerListener","pointermove",G)}h.append("rect").attr("class","chartOverlay").attr("width",i).attr("height",v).on("mouseover",function(){return L(!0)}).on("mouseout",P.bind(this)).on("mousemove",function(){A(Object(z.c)(this)[0],!0)}),h.transition().duration(300).ease(V.b).style("opacity",1)},getThemeColor:function(){var t=this.getThemeColorString();return[].concat(Y(t.split("(")[1].split(")")[0].split(",").map(function(t){return Number(t)})),[1])},getThemeColorString:function(){return R("#elevation-profile .info-bar").css("background-color")}});s.default=i}.call(this,c(5),c(3),c(10),c(4),c(24))},2097:function(t,e){t.exports='<div class="status-container">\r\n    <div class="status-box">\r\n        <% if (hasError) { %>\r\n            <i class="status-icon error fas fa-exclamation-triangle"></i>\r\n        <% } %>\r\n        <% if (isLoading) { %>\r\n            <i class="status-icon fas fa-spinner fa-spin"></i>\r\n        <% } %>\r\n        <div class="status-message"><%= statusMessage %></i>\r\n    </div>\r\n</div>\r\n'}}]);