(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{2059:function(e,c,r){"use strict";r.r(c),function(e,l,i,t){var n=r(2147),s=r.n(n),a=r(1979),o=(r(2148),r(308),e.View.extend({events:{"change #printLayout":"setCurrentLayout","change #printFormat":"setCurrentFormat","change #printScale":"setCurrentScale","keyup input[type='text']":"setTitle","click #printLegend":"setIsLegendSelected","click #printGfi":"setIsGfiSelected","click .btn-print":"print","change #printLayoutElements":"setIsPrintLayoutElementsSelected","change #printResolution":"setPrintResolution","change #scaleInputType":"setScaleInputType"},initialize:function(){var e=l.request("Parser","getPortalConfig"),t=i.property(["menu","tools","children","printLGB"]),n=e?t(e):void 0;i.isUndefined(n)?l.trigger("Alert","alert",{text:"Das Addon <b>Print-LGB</b> konnte nicht geladen werden.Überprüfen Sie die Konfiguration in der config.json",kategorie:"alert-warning"}):(this.template=i.template(s.a),this.model=new a.default(n),this.listenTo(this.model,{change:function(e){var t=e.changed;(t.hasOwnProperty("isActive")||t.hasOwnProperty("isGfiActive")||t.currentLng||t.hasOwnProperty("layoutList")||t.hasOwnProperty("layoutListFiltered")||t.hasOwnProperty("currentPrintScale")||t.hasOwnProperty("currentLayout"))&&this.render(e)}}))},render:function(e){var t=e.toJSON();return e.get("isActive")&&e.get("currentLayout")?(i.extend(t,{scaleList:e.getPrintMapScales()}),this.setElement(document.getElementsByClassName("win-body")[0]),this.$el.html(this.template(t)),this.delegateEvents()):this.$el.empty(),this.renderSelect(),this},renderSelect:function(){t(".selectpicker-printLGB")&&this.$(".selectpicker-printLGB").selectpicker({styleBase:"btn",style:"btn-select",width:"120px"})},setCurrentLayout:function(e){var t=this.model.getLayoutByName(this.model.get("layoutList"),e.target.value);this.model.setCurrentLayout(t),this.model.setIsScaleSelectedManually(!1),this.model.set("scaleList",this.model.getPrintMapScales()),"customExtent"===this.model.get("scaleInputType")&&this.model.customExtent(),l.trigger("Map","render")},setCurrentFormat:function(e){this.model.setCurrentFormat(e.target.value)},setCurrentScale:function(e){var t=parseInt(e.target.value,10);this.model.setIsScaleSelectedManually(!0),this.model.set("currentListSelectionScale",t),this.model.setCurrentScale(t)},setTitle:function(e){this.model.setTitle(e.target.value)},setIsLegendSelected:function(e){this.model.setIsLegendSelected(e.target.checked)},setIsPrintLayoutElementsSelected:function(e){this.model.set("isPrintLayoutElementsSelected",e.target.checked)},setIsGfiSelected:function(e){this.model.setIsGfiSelected(e.target.checked)},print:function(){this.model.print()},setPrintResolution:function(e){this.model.set("currentDPI",e.target.value)},setScaleInputType:function(e){"currentMapScale"===e.target.value?(this.model.set("scaleInputType","currentMapScale"),this.model.setCurrentScale(this.model.get("currentMapScale"))):"customExtent"===e.target.value?(this.model.set("scaleInputType","customExtent"),this.model.customExtent(e.target.value)):"pickFromList"===e.target.value&&(this.model.set("scaleInputType","pickFromList"),this.model.setCurrentScale(this.model.get("currentListSelectionScale")))}}));c.default=o}.call(this,r(5),r(4),r(3),r(10))},2147:function(e,t){e.exports='<!DOCTYPE html>\n<form id="printTool" class="form-horizontal">\n    <% if (filterLayoutText.length > 0) { %>\n    <div id="printLayoutElements" class="form-group form-group-sm">\n        <label class="col-sm-5 control-label"><%= printLayoutElementsLabel %></label>\n        <div class="col-sm-7">\n            <div class="checkbox">\n                <input type="checkbox" <% if (isPrintLayoutElementsSelected) print(\'checked\') %>>\n            </div>\n        </div>\n    </div>\n    <% }; %>\n    <div class="form-group form-group-sm" hidden=true>\n        <label class="col-sm-5 control-label"><%= titleLabel %></label>\n        <div class="col-sm-7">\n            <input type="text" <% !isPrintLayoutElementsSelected ? print(\'disabled\') : print (\'\') %> class="form-control" maxLength="45" placeholder="<%= titlePlaceholder %>">\n        </div>\n    </div>\n    <div class="form-group form-group-sm">\n        <label class="col-sm-5 control-label"><%= layoutLabel %></label>\n        <div class="col-sm-7">\n            <select id="printLayout" class="selectpicker-printLGB">\n                <% if(!layoutListFiltered) {\n                    layoutList.forEach(function(layout) { %>\n                        <option value="<%= layout.name %>" <% layout.name === currentLayout.name ? print("selected"): "" %> ><%= layoutNameList[layout.name] ? layoutNameList[layout.name] : layout.name %></option>\n                    <% });\n                }\n                else {\n                    layoutListFiltered.forEach(function(layout) { %>\n                        <option value="<%= layout.name %>" <% layout.name === currentLayout.name ? print("selected"): "" %> ><%= layoutNameList[layout.name] ? layoutNameList[layout.name] : layout.name %></option>\n                    <% });\n                } %>\n            </select>\n        </div>\n    </div>\n    <div class="form-group form-group-sm">\n        <label class="col-sm-5 control-label"><%= formatLabel %></label>\n        <div class="col-sm-7">\n            <select id="printFormat" class="selectpicker-printLGB">\n                <% formatList.forEach(function(format) { %>\n                    <% if (format === currentFormat) { %>\n                        <option SELECTED><%= format %></option>\n                    <% } else { %>\n                        <option><%= format %></option>\n                    <% }%>\n                <% }); %>\n            </select>\n        </div>\n    </div>\n    <% if (resolutionConfig) { %>\n    <div class="form-group form-group-sm">\n        <label class="col-sm-5 control-label"><%= printResolutionLabel %></label>\n        <div class="col-sm-7">\n            <select id="printResolution" class="selectpicker-printLGB">\n                <% dpiListCategorized.forEach(function(res) { %>\n                        <option value="<%= res.value %>"><%= res.title %></option>\n                <% }); %>\n            </select>\n        </div>\n    </div>\n    <% }; %>\n    <div class="form-group form-group-sm">\n        <label class="col-sm-5 control-label"><%= scaleLabel %></label>\n        <div id="scaleInputType" class="col-sm-7">\n            <fieldset id="selectScaleInput">\n                <label class="control-label">\n                    <input type="radio" value="currentMapScale" name="selectScaleInput" <% if (scaleInputType === \'currentMapScale\') {print (\'checked\')} %> onclick="document.getElementById(\'printScale\').disabled = true">\n                    <%= mapScaleLabel %>\n                </label><br/>\n                <% if (customExtent) { %>\n                <label class="control-label">\n                    <input type="radio" value="customExtent" name="selectScaleInput" <% if (scaleInputType === \'customExtent\') {print (\'checked\')} %> onclick="document.getElementById(\'printScale\').disabled = true">\n                    <%= customExtent.name %>\n                </label><br/>\n                <% }; %>\n                <label class="control-label">\n                    <input type="radio" value="pickFromList" name="selectScaleInput" <% if (scaleInputType === \'pickFromList\') {print (\'checked\')} %> onclick="document.getElementById(\'printScale\').disabled = false">\n                    <%= freeSelectionLabel %>\n                </label><br/>\n              </fieldset>\n            <select id="printScale" <% if (scaleInputType !== \'pickFromList\') {print (\'disabled\')} %> class="selectpicker-printLGB dropup" data-dropup-auto="false">\n                <% if (scaleInputType !== \'pickFromList\') { %>\n                    <option selected value="<%= currentPrintScale %>">1: <%= currentPrintScale < 10000 ? currentPrintScale : currentPrintScale.toString().substring(0, currentPrintScale.toString().length - 3) + " " + currentPrintScale.toString().substring(currentPrintScale.toString().length - 3) %></option>\n                <% } else { %>\n                <% scaleList.forEach(function(scale) { %> --\x3e\n                    <% if (scale === currentListSelectionScale) { %>\n                        <option selected value="<%= scale %>">1: <%= scale < 10000 ? scale : scale.toString().substring(0, scale.toString().length - 3) + " " + scale.toString().substring(scale.toString().length - 3) %></option>\n                    <% } else { %>\n                        <option value="<%= scale %>">1: <%= scale < 10000 ? scale : scale.toString().substring(0, scale.toString().length - 3) + " " + scale.toString().substring(scale.toString().length - 3) %></option>\n                    <% }%>\n                <% }); %>\n                <% }; %>\n            </select>\n        </div>\n    </div>\n    <% if(isLegendAvailable) { %>\n    <div class="form-group form-group-sm">\n        <label class="col-sm-5 control-label"><%= withLegendLabel %></label>\n        <div class="col-sm-7">\n            <div class="checkbox">\n                <input id="printLegend" type="checkbox" <% if (isLegendSelected) print(\'checked\') %>>\n            </div>\n        </div>\n    </div>\n    <% } %>\n    <% if(isGfiAvailable && isGfiActive) { %>\n    <div class="form-group form-group-sm">\n        <label class="col-sm-5 control-label"><%= withInfoLabel %></label>\n        <div class="col-sm-7">\n            <div class="checkbox">\n                <input id="printGfi" type="checkbox" <% if (isGfiSelected) print(\'checked\') %>>\n            </div>\n        </div>\n    </div>\n    <% } %>\n    <div class="form-group form-group-sm">\n        <div class="col-sm-12">\n            <button type="button" class="btn btn-block btn-print"><%= printLabel %></button>\n        </div>\n    </div>\n</form>\n'},2148:function(e,t,n){}}]);