(window.webpackJsonp=window.webpackJsonp||[]).push([[284,283,294,308,316],{1808:function(t,e,i){"use strict";i.r(e);var n=i(41),o=i(36),r=i(63);e.default=new n.a({features:[new o.a({geometry:new r.a([]),isHighlight:!1}),new o.a({geometry:new r.a([]),isHighlight:!0})]})},1809:function(t,o,r){"use strict";r.r(o),function(e){r.d(o,"transformCoordinatesLocalToWgs84Projection",function(){return t}),r.d(o,"transformCoordinatesWgs84ToLocalProjection",function(){return n});var i=r(55);function t(t){return Object(i.e)(e.request("MapView","getProjection").getCode(),"EPSG:4326",t)}function n(t){return Object(i.e)("EPSG:4326",e.request("MapView","getProjection").getCode(),t)}}.call(this,r(4))},1814:function(t,e,i){"use strict";i.r(e);var n=i(41);e.default=new n.a},1888:function(t,e,i){"use strict";i.r(e);var n=i(50),o=i(36),r=i(5),s=i.n(r).a.Model.extend({defaults:{index:0,feature:null,displayName:"",source:null,addedToSource:!1,indexDirectionsLineString:null,coordinates:[]},initialize:function(){var i=this;this.getFeature()?(this.getFeature().set("routingId",this.getIndex()),this.set("coordinates",this.getFeature().getGeometry().getCoordinates()),this.set("addedToSource",!0)):(this.set("coordinates",[]),this.set("feature",new o.a({geometry:new n.a(this.getCoordinates()),routingId:this.getIndex()}))),this.getFeature().getGeometry().on("change",function(t){var e=t.target;i.set("coordinates",e.getCoordinates())})},getIndex:function(){return this.get("index")},setIndex:function(t){this.set("index",t),this.getFeature().set("routingId",t)},getCoordinates:function(){return this.get("coordinates")},setCoordinates:function(t){this.set("coordinates",t),this.getFeature().getGeometry().setCoordinates(t),this.isAddedToSource()||(this.get("source").addFeature(this.getFeature()),this.set("addedToSource",!0)),this.trigger("changeCoordinates")},hasCoordinates:function(){return this.getCoordinates()&&2===this.getCoordinates().length},getFeature:function(){return this.get("feature")},getDisplayName:function(){return this.get("displayName")?this.get("displayName"):this.hasCoordinates()?"".concat(this.getCoordinates()[0],", ").concat(this.getCoordinates()[1]):null},setDisplayName:function(t){this.set("displayName",t)},isAddedToSource:function(){return this.get("addedToSource")},setFromGeosearchResult:function(t){this.setDisplayName(t.getDisplayName()),this.setCoordinates(t.getCoordinates())},getIndexDirectionsLineString:function(){return this.get("indexDirectionsLineString")},setIndexDirectionsLineString:function(t){this.set("indexDirectionsLineString",t)},removeFromSource:function(){this.isAddedToSource()&&this.get("source").removeFeature(this.getFeature()),this.set("addedToSource",!1)},reset:function(){this.set("displayName",null),this.set("indexDirectionsLineString",null),this.removeFromSource(),this.getFeature().getGeometry().setCoordinates([]),this.trigger("changeCoordinates")}});e.default=s},1955:function(t,e,i){"use strict";i.r(e);var u=i(1814),n=i(1808),o=i(1809),r=i(5),s=i.n(r),d=i(1888),a=s.a.Collection.extend({initialize:function(){for(var t=this.length;t<2;t++)this.addWaypoint({index:t})},filterWithCoordinates:function(){return this.filter(function(t){return t.hasCoordinates()})},getDirectionsCoordinates:function(){return this.map(function(t){return t.getCoordinates()}).filter(function(t){return 2===t.length})},getDirectionsCoordinatesWgs84:function(){return this.getDirectionsCoordinates().map(function(t){return Object(o.transformCoordinatesLocalToWgs84Projection)(t)})},addWaypoint:function(t){var e=t.index,i=t.feature,n=t.displayName,o=e;if("number"!=typeof e&&(o=this.length),i){var r=this.find(function(t){return 0===t.getCoordinates().length});if(r)return n&&r.setDisplayName(n),r.setCoordinates(i.getGeometry().getCoordinates()),setTimeout(function(){u.default.removeFeature(i)}),r}var s=new d.default({index:o,feature:i,displayName:n,source:u.default});this.add(s,{at:o});for(var a=o+1;a<this.length;a++)this.at(a).setIndex(a);return s},removeWaypoint:function(t){if(2===this.length)return this.at(t).reset(),n.default.getFeatures().forEach(function(t){return t.getGeometry().setCoordinates([])}),void r.Radio.trigger("RoutingLGB","findRoute");this.at(t).removeFromSource();for(var e=t;e<this.length;e++)this.at(e).setIndex(this.at(e).getIndex()-1);this.remove(this.at(t)),r.Radio.trigger("RoutingLGB","findRoute")},resetWaypoints:function(){this.forEach(function(t){t.isAddedToSource()&&u.default.removeFeature(t.getFeature())}),this.reset(),this.initialize(),r.Radio.trigger("RoutingLGB","findRoute")},moveWaypoint:function(t,e){var i=this.slice();t<0||e<0||t>=this.length||e>=this.length||t===e||(i.splice(e,0,i.splice(t,1)[0]),this.set(i),this.forEach(function(t,e){return t.setIndex(e)}),r.Radio.trigger("RoutingLGB","findRoute"))},isRoutable:function(){return 2<=this.filter(function(t){return t.hasCoordinates()}).length}});e.default=a}}]);