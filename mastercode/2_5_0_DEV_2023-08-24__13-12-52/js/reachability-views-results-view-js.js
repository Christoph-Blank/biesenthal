(window.webpackJsonp=window.webpackJsonp||[]).push([[273,245,254,257,258,261,263,264],{1798:function(e,t,n){"use strict";n.r(t),n.d(t,"SpeedProfile",function(){return r}),n.d(t,"AvoidFeatureOption",function(){return o}),n.d(t,"Optimization",function(){return i}),n.d(t,"DownloadFormat",function(){return a}),n.d(t,"ResultError",function(){return l});var r=Object.freeze({CAR:{id:"CAR",i18n:"car",icon:"fa-car",orsKey:"driving-car"},HGV:{id:"HGV",i18n:"hgv",icon:"fa-truck",orsKey:"driving-hgv"},FOOT:{id:"FOOT",i18n:"foot",icon:"fa-walking",orsKey:"foot-walking"},CYCLING:{id:"CYCLING",i18n:"cycling",icon:"fa-bicycle",orsKey:"cycling-regular"},WHEELCHAIR:{id:"WHEELCHAIR",i18n:"wheelchair",icon:"fa-wheelchair",orsKey:"wheelchair"}}),o=Object.freeze({HIGHWAYS:{id:"HIGHWAYS",i18n:"highways",availableProfiles:["CAR","HGV"],orsKey:"highways"},TOLLWAYS:{id:"TOLLWAYS",i18n:"tollways",availableProfiles:["CAR","HGV"],orsKey:"tollways"},FERRIES:{id:"FERRIES",i18n:"ferries",availableProfiles:["CAR","HGV","CYCLING","FOOT","WHEELCHAIR"],orsKey:"ferries"},STEPS:{id:"STEPS",i18n:"steps",availableProfiles:["CYCLING","FOOT","WHEELCHAIR"],orsKey:"steps"}}),i=Object.freeze({TIME:{id:"TIME",i18n:"time",orsKey:"time",multiplicator:60,unit:"min"},DISTANCE:{id:"DISTANCE",i18n:"distance",orsKey:"distance",multiplicator:1e3,unit:"km"}}),a=Object.freeze({GEOJSON:"GEOJSON",KML:"KML"}),l=Object.freeze({NO_ISOCHRONES_FOUND:{i18n:"noIsochronesFound"},AVOID_AREA_TOO_LARGE:{i18n:"avoidAreasTooLarge"},FETCHING_FAILED:{i18n:"fetchingFailed"}})},1800:function(e,o,i){"use strict";i.r(o),function(t){i.d(o,"transformCoordinatesLocalToWgs84Projection",function(){return e}),i.d(o,"transformCoordinatesWgs84ToLocalProjection",function(){return r});var n=i(55);function e(e){return Object(n.e)(t.request("MapView","getProjection").getCode(),"EPSG:4326",e)}function r(e){return Object(n.e)("EPSG:4326",t.request("MapView","getProjection").getCode(),e)}}.call(this,i(4))},1823:function(e,t,n){"use strict";n.r(t);var r=n(41);t.default=new r.a},1828:function(e,t,c){"use strict";c.r(t),function(n){c.d(t,"default",function(){return e});var r=c(23),o=c(37),i=c(34);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=null;function e(e){s=s||n.request("Reachability","getSettings").isochrones.styleAreas;var t=e.get("color");return new r.c({fill:new o.a({color:[].concat(a(t),[s.opacity])}),stroke:new i.a({color:s.lineColor,width:s.lineWidth})})}}.call(this,c(4))},1849:function(e,h,g){"use strict";g.r(h),function(i){g.d(h,"default",function(){return y}),g.d(h,"convertFeatures",function(){return m}),g.d(h,"transformCoordinates",function(){return f});var a=g(280),t=g(38);function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var e,n,r,o=(e="EPSG:25832",n="EPSG:4326",r="32",t.default.defs(e,"+proj=utm +zone="+r+"ellps=WGS84 +towgs84=0,0,0,0,0,0,1 +units=m +no_defs"),{sourceProj:Object(t.default)(e),destProj:Object(t.default)(n)}),c=[{color:"blue",value:[55,126,184]},{color:"black",value:[0,0,0]},{color:"green",value:[77,175,74]},{color:"grey",value:[153,153,153]},{color:"orange",value:[255,127,0]},{color:"red",value:[228,26,28]},{color:"white",value:[255,255,255]},{color:"yellow",value:[255,255,51]}];function A(r){var e=c.filter(function(e){return t=r,n=e.value,Array.isArray(t)&&3===t.length&&Array.isArray(n)&&3===n.length&&t.every(function(e,t){return e===n[t]});var t,n});return e&&e[0]?e[0].color:""}function u(e,t){var n,r=[],o=l(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;t?i.forEach(function(e){r.push(d(e))}):r.push(d(i))}}catch(e){o.e(e)}finally{o.f()}return t?[r]:r}function d(e){return Object(t.default)(o.sourceProj,o.destProj,e)}function f(e){var t=e.getCoordinates();switch(e.getType()){case"LineString":return u(t,!1);case"Point":return d(t);case"Polygon":return u(t,!0);default:return[]}}function m(e,t){var n,r=[],o=l(e);try{for(o.s();!(n=o.n()).done;){var i=n.value.clone(),a=f(i.getGeometry());3===a.length&&0===a[2]&&a.pop(),i.getGeometry().setCoordinates(a,"XY"),r.push(i)}}catch(e){o.e(e)}finally{o.f()}return t.writeFeatures(r)}function y(e){var t,n=e.length,p=Array(n).fill(void 0),r=new a.a({extractStyles:!0}),b=Array(n).fill(!1),w=Array(n).fill(void 0),S=Array(n).fill(!1),c=Array(n).fill(void 0),O=Array(n).fill(void 0),o=(new DOMParser).parseFromString(m(e,r),"text/xml");return e.forEach(function(e,t){var n,r,o,i=e.getGeometry().getType();if("Point"===i&&e.values_.drawState&&void 0!==e.values_.drawState.text)S[t]=!0,O[t]=e.values_.drawState.fontSize;else{try{o=e.getStyleFunction()(e),r=Array.isArray(o)?o[0]:o}catch(e){S[t]=!0}if("Point"===i)if(null!==r.getImage()&&void 0!==r.getImage().iconImage_){b[t]=!0;var a=r.getImage().anchorXUnits_,l=r.getImage().anchorYUnits_,s=r.getImage().anchor_;p[t]={xUnit:a,yUnit:l,anchor:s}}else r.getText()?c[t]=r.getText().getFont():(n=r.getImage().getFill().getColor(),w[t]=[n[0],n[1],n[2]])}}),t=o,Array.from(t.getElementsByTagName("ExtendedData")).forEach(function(e){e.getElementsByTagName("value")[0].textContent=i.request("Util","uniqueId","")}),Array.from(o.getElementsByTagName("Placemark")).forEach(function(e,t){if(0<e.getElementsByTagName("Point").length&&!1===S[t]){var n=e.getElementsByTagName("Style")[0];if(!1===b[t]&&w[t]){var r="".concat(window.location.origin,"/img/tools/draw/circle_").concat(A(w[t]),".svg"),o=(u=r,d="<scale>".concat(1,"</scale>"),f="<href>".concat(u,"</href>"),"<IconStyle>".concat(d,"<Icon>").concat(f,"</Icon></IconStyle>"));n.innerHTML+=o}else if(!0===b[t]&&void 0!==p[t]){e.getElementsByTagName("IconStyle")[0].innerHTML+=(i=p[t],a=i.anchor[0],l=i.anchor[1],s=i.xUnit,c=i.yUnit,'<hotSpot x="'.concat(a,'" y="').concat(l,'" xunits="').concat(s,'" yunits="').concat(c,'" />'))}}var i,a,l,s,c,u,d,f;if(0<e.getElementsByTagName("Point").length&&!0===S[t]&&!isNaN(O[t])){var m=O[t]/16,y=e.getElementsByTagName("Style")[0],h="".concat(window.location.origin,"/img/tools/draw/circle_blue.svg"),g=(new DOMParser).parseFromString("<IconStyle><scale>0</scale><Icon><href>"+h+"</href></Icon></IconStyle>","text/xml"),v=(new DOMParser).parseFromString("<scale>"+m+"</scale>","text/xml");y.getElementsByTagName("LabelStyle")[0].appendChild(v.getElementsByTagName("scale")[0]),y.appendChild(g.getElementsByTagName("IconStyle")[0])}}),(new XMLSerializer).serializeToString(o)}}.call(this,g(4))},1858:function(e,t,n){"use strict";n.r(t),n.d(t,"downloadAreas",function(){return i});var y=n(81),h=n(36),g=n(1800),r=n(1849),c=n(1798),o=n(14),u=n.n(o),d=n(1823),f=n(1828);function v(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){switch(t){case c.DownloadFormat.GEOJSON:return function(e,t){if(!(t instanceof y.a&&Array.isArray(e)))return"";var n,r=[],o=v(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i instanceof h.a){var a=i.clone(),l=a.getGeometry(),s=l.getType(),c=l.getCoordinates(),u=[];if("Point"===s)u=Object(g.transformCoordinatesLocalToWgs84Projection)(c);else if("LineString"===s)u=c.map(function(e){return Object(g.transformCoordinatesLocalToWgs84Projection)(e)});else if("Polygon"===s){var d,f=v(c);try{for(f.s();!(d=f.n()).done;){var m=d.value;u.push(m.map(function(e){return Object(g.transformCoordinatesLocalToWgs84Projection)(e)}))}}catch(e){f.e(e)}finally{f.f()}}l.setCoordinates(u),r.push(a)}}}catch(e){o.e(e)}finally{o.f()}return t.writeFeatures(r)}(e,new y.a);case c.DownloadFormat.KML:return Object(r.default)(e);default:return}}function i(){var e,t,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c.DownloadFormat.GEOJSON,o=1<arguments.length?arguments[1]:void 0,i=m(function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=Object(f.default)(r);o[1]&&r.setStyle(o[1])}}catch(e){n.e(e)}finally{n.f()}return e}(d.default.getFeatures()),r),a=(e=r,t=o,n=u()().format("YYYYMMDD_HHmm"),(t||"reachability_"+n)+"."+e.toLowerCase());if("function"==typeof navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(new Blob([i],{type:"text/plain;charset=utf-8"}),a);else{var l="data:text/plain;charset=utf-8,".concat(encodeURIComponent(i)),s=document.createElement("a");s.href=l,s.download=a,s.style.visibility="hidden",s.onclick=function(){return!0},document.body.appendChild(s),s.click(),document.body.removeChild(s)}}},1882:function(e,s,c){"use strict";c.r(s),function(e,t,n){var r=c(2088),o=c.n(r),i=c(1798),a=c(1858),l=(c(286),e.View.extend({className:"modal fade",events:{"click .btn-close":"close","submit #downloadForm":"download"},initialize:function(){this.template=t.template(o.a),document.getElementsByClassName("masterportal-container")[0].appendChild(this.el)},render:function(){var e={i18n:n.t("additional:reachability",{returnObjects:!0}),downloadFormatOptions:Object.values(i.DownloadFormat)};return this.$el.html(this.template(e)),this.$("#formatPicker").selectpicker({styleBase:"btn",style:"btn-select",width:"100%"}),this.$el.on("hidden.bs.modal",this.remove.bind(this)),this},show:function(){this.render(),this.$el.modal("show")},close:function(){this.$el.modal("hide")},download:function(e){e.preventDefault();var t=this.$("#filename").val(),n=this.$("#formatPicker").val();Object(a.downloadAreas)(n,t),this.close()}}));s.default=l}.call(this,c(5),c(3),c(24))},1953:function(e,c,u){"use strict";u.r(c),function(e,t,r){var o=u(5),n=(u(308),u(2103)),i=u.n(n),a=u(1798),l=u(1882),s=e.View.extend({model:null,template:t.template(i.a),events:{"click #downloadButton":"download"},initialize:function(){this.listenTo(this.model,"change:isochronesResult",this.render),this.listenTo(this.model,"change:isLoadingIsochrones",this.render)},render:function(){return this.$el.html(this.template(this.buildTemplateAttributes())),this.delegateEvents(),this},buildTemplateAttributes:function(){var e=r.t("additional:reachability",{returnObjects:!0}),t={isLoading:this.model.isLoadingIsochrones(),info:"",error:null,result:this.model.getIsochronesResult(),speedProfile:a.SpeedProfile[this.model.getSpeedProfile()],downloadFormatOptions:Object.values(a.DownloadFormat),Optimization:a.Optimization,legendOpacity:o.Radio.request("Reachability","getSettings").isochrones.styleAreas.opacity,i18n:e};if(this.model.getIsochronesResult()){if(this.model.getIsochronesResult().getError()){var n=this.model.getIsochronesResult().getError();t.error=e[n.i18n]}}else t.info=e.noResultYet;return t},download:function(){(new l.default).show()}});c.default=s}.call(this,u(5),u(3),u(24))},2088:function(e,t){e.exports='<div class="modal-dialog modal-sm" role="document">\n    <form id="downloadForm">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="btn-close close" aria-label="<%= i18n.close %>" title="<%= i18n.close %>"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title"><%= i18n.download %></h4>\n            </div>\n            <div class="modal-body">\n                    <div class="form-group">\n                        <label for="filename"><%= i18n.filename %></label>\n                        <input id="filename" type="text" class="form-control" placeholder="<%= i18n.filename %>" />\n                    </div>\n                    <div class="form-group">\n                        <label for="formatPicker">Format</label>\n                        <select id="formatPicker">\n                            <% _.each(downloadFormatOptions, function(option) { %>\n                                <option value="<%= option %>"><%= option %></option>\n                            <% }) %>\n                        </select>\n                    </div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-close"><%= i18n.close %></button>\n                <button type="submit" class="btn btn-primary"><%= i18n.download %></button>\n            </div>\n        </div>\n    </form>\n</div>\n'},2103:function(e,t){e.exports='<h5 id="results-header">\r\n    <%= (!error && result) ? i18n.legend : \'\' %>\r\n    <% if (isLoading) { %>\r\n        <i id="results-loading-spinner" class="fas fa-spinner fa-spin fa-xl"></i>\r\n    <% } %>\r\n</h5>\r\n\r\n<% if (info) { %>\r\n    <i class="results-icon fas fa-bullseye"></i>\r\n    <div class="results-info"><%= info %></div>\r\n<% } %>\r\n<% if (error) { %>\r\n    <i class="results-icon error fas fa-exclamation-triangle"></i>\r\n    <div class="results-info"><%= error %></div>\r\n<% } %>\r\n\r\n\r\n<% if (!error && result) { %>\r\n    <div class="legend">\r\n        <% _.each(result.getAreas(), function(area) { %>\r\n            <div class="legend-entry">\r\n                <div class="legend-color" data-opacity="<%= legendOpacity %>" data-color="<%= area.getColorRgbString() %>"></div>\r\n                <span><%= area.getDisplayValue() %></span>\r\n                <span><%= Optimization[area.getOptimization()].unit %></span>\r\n            </div>\r\n        <% }) %>\r\n        <script>\r\n            $(".legend-color").each(function() {\r\n                $(this).css(\'background\', $(this).data(\'color\'));\r\n                $(this).css(\'opacity\', $(this).data(\'opacity\'));\r\n            });\r\n        <\/script>\r\n    </div>\r\n    <ul class="pager">\r\n        <li class="next"><a href="#" title="<%= i18n.download %>" aria-label="<%= i18n.download %>" id="downloadButton"><i class="fas fa-download"></i></a></li>\r\n    </ul>\r\n<% } %>'}}]);