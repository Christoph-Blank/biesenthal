(window.webpackJsonp=window.webpackJsonp||[]).push([[14,298,299,300,301,302,303,304,317],{1100:function(e,t,r){"use strict";var u=r(11),i=r(76),y=r(54),c=r(7),a=r(13),m=r(1),n=r(52),v=r(9),s=r(42),o=r(91),l=r(17),d=r(152),f=r(285);function g(e){return e.feature?e.feature:e.element?e.element:void 0}var h=function(o){function e(e){var t=e||{},r=t;r.handleDownEvent||(r.handleDownEvent=n.b),r.stopDown||(r.stopDown=n.a),o.call(this,r),this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.sortByDistance_=function(e,t){var r=Object(y.i)(this.pixelCoordinate_,e.segment),n=Object(y.i)(this.pixelCoordinate_,t.segment);return r-n}.bind(this),this.rBush_=new f.a,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return o&&(e.__proto__=o),((e.prototype=Object.create(o&&o.prototype)).constructor=e).prototype.addFeature=function(e,t){var r=void 0===t||t,n=Object(u.c)(e),o=e.getGeometry();if(o){var i=this.SEGMENT_WRITERS_[o.getType()];i&&(this.indexedFeaturesExtents_[n]=o.getExtent(Object(m.j)()),i.call(this,e,o))}r&&(this.featureChangeListenerKeys_[n]=Object(c.a)(e,a.a.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},e.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},e.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},e.prototype.handleEvent=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);return t.snapped&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel),o.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(e){var t=g(e);this.addFeature(t)},e.prototype.handleFeatureRemove_=function(e){var t=g(e);this.removeFeature(t)},e.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var r=Object(u.c)(t);r in this.pendingFeatures_||(this.pendingFeatures_[r]=t)}else this.updateFeature_(t)},e.prototype.handleUpEvent=function(){var e=Object(l.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var r=void 0===e||e,n=Object(u.c)(t),o=this.indexedFeaturesExtents_[n];if(o){var i=this.rBush_,a=[];i.forEachInExtent(o,function(e){t===e.feature&&a.push(e)});for(var s=a.length-1;0<=s;--s)i.remove(a[s])}r&&(Object(c.e)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},e.prototype.setMap=function(e){var t=this.getMap(),r=this.featuresListenerKeys_,n=this.getFeatures_();t&&(r.forEach(c.e),r.length=0,n.forEach(this.forEachFeatureRemove_.bind(this))),o.prototype.setMap.call(this,e),e&&(this.features_?r.push(Object(c.a)(this.features_,i.a.ADD,this.handleFeatureAdd_,this),Object(c.a)(this.features_,i.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&r.push(Object(c.a)(this.source_,d.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(c.a)(this.source_,d.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),n.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(e,t,r){var n=r.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),o=r.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),i=Object(m.b)([n,o]),a=this.rBush_.getInExtent(i);this.vertex_&&!this.edge_&&(a=a.filter(function(e){return e.feature.getGeometry().getType()!==v.a.CIRCLE}));var s,u,c,l,d=!1,f=null,g=null;if(0<a.length){this.pixelCoordinate_=t,a.sort(this.sortByDistance_);var h=a[0].segment,p=a[0].feature.getGeometry().getType()===v.a.CIRCLE;this.vertex_&&!this.edge_?(s=r.getPixelFromCoordinate(h[0]),u=r.getPixelFromCoordinate(h[1]),c=Object(y.h)(e,s),l=Object(y.h)(e,u),Math.sqrt(Math.min(c,l))<=this.pixelTolerance_&&(d=!0,f=l<c?h[1]:h[0],g=r.getPixelFromCoordinate(f))):this.edge_&&(f=p?Object(y.b)(t,a[0].feature.getGeometry()):Object(y.c)(t,h),g=r.getPixelFromCoordinate(f),Object(y.d)(e,g)<=this.pixelTolerance_&&(d=!0,this.vertex_&&!p&&(s=r.getPixelFromCoordinate(h[0]),u=r.getPixelFromCoordinate(h[1]),c=Object(y.h)(g,s),l=Object(y.h)(g,u),Math.sqrt(Math.min(c,l))<=this.pixelTolerance_&&(f=l<c?h[1]:h[0],g=r.getPixelFromCoordinate(f))))),d&&(g=[Math.round(g[0]),Math.round(g[1])])}return{snapped:d,vertex:f,vertexPixel:g}},e.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},e.prototype.writeCircleGeometry_=function(e,t){for(var r=Object(s.c)(t).getCoordinates()[0],n=0,o=r.length-1;n<o;++n){var i=r.slice(n,n+2),a={feature:e,segment:i};this.rBush_.insert(Object(m.b)(i),a)}},e.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),n=0;n<r.length;++n){var o=this.SEGMENT_WRITERS_[r[n].getType()];o&&o.call(this,e,r[n])}},e.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,o=r.length-1;n<o;++n){var i=r.slice(n,n+2),a={feature:e,segment:i};this.rBush_.insert(Object(m.b)(i),a)}},e.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,o=r.length;n<o;++n)for(var i=r[n],a=0,s=i.length-1;a<s;++a){var u=i.slice(a,a+2),c={feature:e,segment:u};this.rBush_.insert(Object(m.b)(u),c)}},e.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,o=r.length;n<o;++n){var i=r[n],a={feature:e,segment:[i,i]};this.rBush_.insert(t.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,o=r.length;n<o;++n)for(var i=r[n],a=0,s=i.length;a<s;++a)for(var u=i[a],c=0,l=u.length-1;c<l;++c){var d=u.slice(c,c+2),f={feature:e,segment:d};this.rBush_.insert(Object(m.b)(d),f)}},e.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},e.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,o=r.length;n<o;++n)for(var i=r[n],a=0,s=i.length-1;a<s;++a){var u=i.slice(a,a+2),c={feature:e,segment:u};this.rBush_.insert(Object(m.b)(u),c)}},e}(o.b);t.a=h},1820:function(e,t,r){"use strict";r.r(t);var n=r(41);t.default=new n.a},1841:function(e,t,d){"use strict";d.r(t),function(r){d.d(t,"default",function(){return e});var n=d(23),o=d(78),i=d(34),a=d(37),s=d(113);function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=null;function e(e){l=l||r.request("RoutingLGB","getSettings").routing.styleWaypoint;var t=e.get("routingId");return new n.c({image:new o.a({radius:l.radius,stroke:new i.a({color:[].concat(u(l.lineColor),[1]),width:l.lineWidth}),fill:new a.a({color:[].concat(u(l.fillColor),[l.opacity])})}),text:void 0===t?null:new s.a({font:"bold 11px Arial",textAlign:"center",textBaseline:"middle",text:String(t+1),fill:new a.a({color:l.textFillColor}),stroke:new i.a({color:l.textLineColor,width:l.textLineWidth})})})}}.call(this,d(4))},1842:function(e,c,l){"use strict";l.r(c),function(e){l.d(c,"default",function(){return u});var t=l(23),r=l(37),n=l(34),o=l(78);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=null;function u(){return s=s||e.request("RoutingLGB","getSettings").routing.styleAvoidAreas,new t.c({fill:new r.a({color:[].concat(i(s.fillColor),[s.opacity])}),stroke:new n.a({color:[].concat(i(s.lineColor),[1]),width:s.lineWidth}),image:new o.a({radius:s.pointRadius,stroke:new n.a({color:[].concat(i(s.lineColor),[1]),width:s.pointLineWidth}),fill:new r.a({color:[].concat(i(s.fillColor),[s.opacity])})})})}}.call(this,l(4))},1863:function(e,t,r){"use strict";r.r(t);var n=r(1814),o=r(1841),i=r(43);t.default=new i.a({source:n.default,style:o.default,name:"routing_waypoints_layer",alwaysOnTop:!0})},1864:function(e,t,r){"use strict";r.r(t);var n=r(1820),o=r(1842),i=r(43);t.default=new i.a({source:n.default,style:o.default,name:"avoid_areas_layer",alwaysOnTop:!0})},1962:function(e,t,r){"use strict";r.r(t);var n=r(362),o=r(1814);t.default=new n.a({source:o.default})},1963:function(e,t,r){"use strict";r.r(t);var n=r(1100),o=r(1814);t.default=new n.a({source:o.default})},1964:function(e,t,r){"use strict";r.r(t);var n=r(241),o=r(1841),i=r(1814);t.default=new n.b({source:i.default,type:"Point",style:o.default})},1965:function(e,t,r){"use strict";r.r(t);var n=r(295),o=r(1863),i=r(47);t.default=new n.a({condition:i.d,layers:[o.default]})},1966:function(e,t,r){"use strict";r.r(t);var n=r(1808),o=r(1852),i=r(43);t.default=new i.a({source:n.default,style:o.default,name:"routing_route_layer",alwaysOnTop:!0})},1967:function(e,t,r){"use strict";r.r(t);var n=r(362),o=r(1808);t.default=new n.a({style:null,source:o.default})},1968:function(e,t,r){"use strict";r.r(t);var n=r(1100),o=r(1808);t.default=new n.a({source:o.default})},1969:function(e,t,r){"use strict";r.r(t);var n=r(362),o=r(1820);t.default=new n.a({source:o.default})},1970:function(e,t,r){"use strict";r.r(t);var n=r(1100),o=r(1820);t.default=new n.a({source:o.default})},1971:function(e,t,r){"use strict";r.r(t);var n=r(241),o=r(1842),i=r(1820);t.default=new n.b({source:i.default,type:"Polygon",style:o.default})},1972:function(e,t,r){"use strict";r.r(t);var n=r(295),o=r(1864),i=r(47),a=r(23);t.default=new n.a({style:new a.c,condition:i.d,layers:[o.default]})},1982:function(e,F,E){"use strict";E.r(F),function(e){var r=E(1863),t=E(1962),n=E(1963),o=E(1964),i=E(1965),a=E(1808),s=E(1966),u=E(1967),c=E(1968),f=E(1820),l=E(1864),d=E(1969),g=E(1970),h=E(1971),p=E(1972),y=E(36),m=E(63),v=E(5),_=E(1854),w=E(1809),x=E(1807);function b(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=M(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function I(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function R(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){I(n,t,r,o,i,"next",e)}function i(e){I(n,t,r,o,i,"throw",e)}o(void 0)})}}function A(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=e.View.extend({model:null,isMapListenerAdded:!1,avoidAreasSelectListener:null,initialize:function(){this.listenTo(this.model,{"change:routingResult":this.updateLineStringFeature,"change:mapInteractionMode":this.createInteractionFromMapInteractionMode});var e=v.Radio.channel("RoutingLGB");e.on({highlightRoute:this.highlightRoute,unHighlightRoute:this.unHighlightRoute,zoomToRoute:this.zoomToRoute},this),e.reply({getAvoidPolygonsWgs84:this.getAvoidPolygonsWgs84,getRouteExtent:this.getRouteExtent},this)},initRouting:function(e){if(e){this.isMapListenerAdded||(o.default.on("drawend",this.onWaypointsDrawEnd.bind(this)),i.default.on("select",this.onWaypointSelect.bind(this)),h.default.on("drawend",this.onAvoidAreasDrawEnd.bind(this)),p.default.on("select",this.onAvoidAreasSelect.bind(this)),this.createWaypointsModifyInteractionListener(),this.createAvoidAreasModifyInteractionListener(),this.createRouteModifyInteractionListener(),this.isMapListenerAdded=!0);var t=v.Radio.request("Map","getLayers");v.Radio.trigger("Map","addLayerToIndex",[s.default,t.getArray().length]),v.Radio.trigger("Map","addLayerToIndex",[r.default,t.getArray().length+1]),v.Radio.trigger("Map","addLayerToIndex",[l.default,t.getArray().length+2]),this.createInteractionFromMapInteractionMode()}else this.closeRouting()},closeRouting:function(){v.Radio.trigger("Map","removeLayer",s.default),v.Radio.trigger("Map","removeLayer",r.default),v.Radio.trigger("Map","removeLayer",l.default),this.removeMapInteractions()},createInteractionFromMapInteractionMode:function(){var e=this.model.getMapInteractionMode();e===x.MapInteractionMode.WAYPOINTS?this.createWaypointsDrawInteraction():e===x.MapInteractionMode.AVOID_AREAS?this.createAvoidAreasDrawInteraction():e===x.MapInteractionMode.DELETE_AVOID_AREAS&&this.createAvoidAreasSelectInteraction()},getRouteFeature:function(){return a.default.getFeatures().find(function(e){return!e.get("isHighlight")})},getHighlightFeature:function(){return a.default.getFeatures().find(function(e){return e.get("isHighlight")})},unHighlightRoute:function(){this.getHighlightFeature().getGeometry().setCoordinates([])},highlightRoute:function(e){var t,r=e.fromWaypointIndex,n=e.toWaypointIndex,o=e.coordsIndex,i=this.model.getWaypoints(),a=this.getRouteFeature(),s=this.getHighlightFeature(),u=o?o.slice():[i.at(r).getIndexDirectionsLineString(),i.at(n).getIndexDirectionsLineString()];s.getGeometry().setCoordinates((t=a.getGeometry().getCoordinates()).slice.apply(t,A(u)))},zoomToRoute:function(e){var t,r=e.fromWaypointIndex,n=e.toWaypointIndex,o=e.coordsIndex,i=this.model.getWaypoints(),a=this.getRouteFeature(),s=o?o.slice(0):[i[r].getIndexDirectionsLineString(),i[n].getIndexDirectionsLineString()],u=(t=a.getGeometry().getCoordinates()).slice.apply(t,A(s)),c=new y.a({geometry:new m.a(u)});0<u.length?v.Radio.trigger("Map","zoomToExtent",c.getGeometry().getExtent()):v.Radio.trigger("MapView","setCenter",a.getGeometry().getCoordinates()[s[0]])},createWaypointsModifyInteractionListener:function(){var i,a=this;t.default.on("modifystart",function(e){e.features.getArray().forEach(function(e){e.getGeometry().once("change",function(){i=e})})}),t.default.on("modifyend",R(regeneratorRuntime.mark(function e(){var t,r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.model.getWaypoints().at(i.get("routingId")),r=i.getGeometry().getCoordinates(),n=Object(w.transformCoordinatesLocalToWgs84Projection)(r),e.next=5,Object(_.fetchTextByCoordinates)(n);case 5:o=e.sent,t.setDisplayName(null==o?void 0:o.getDisplayName()),t.setCoordinates(r),a.model.findRoute();case 9:case"end":return e.stop()}},e)})))},createAvoidAreasModifyInteractionListener:function(){var e=this;d.default.on("modifyend",function(){e.model.findRoute()})},findWaypointBetweenLineStringIndex:function(e){for(var t=e.lineStringIndex,r=this.model.getWaypoints(),n=0;n<r.length;n++){var o=r.at(n),i=r.at(n+1);if(!i||null===o.getIndexDirectionsLineString()||null===i.getIndexDirectionsLineString())break;if(t>=o.getIndexDirectionsLineString()&&t<i.getIndexDirectionsLineString())return n}return null},createRouteModifyInteractionListener:function(){var d=this;u.default.on("modifyend",function(){var t=R(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=d.model.getRoutingResult(),n=t.features.getArray()[0].getGeometry().getCoordinates(),o=r.getLineString(),i=0;case 2:if(!(i<o.length)){e.next=18;break}if(o[i][0]===n[i][0]&&o[i][1]===n[i][1])return e.abrupt("continue",15);e.next=5;break;case 5:return a=n[i],s=d.findWaypointBetweenLineStringIndex({lineStringIndex:i}),u=d.model.getWaypoints().addWaypoint({index:(null!=s?s:0)+1}),c=Object(w.transformCoordinatesLocalToWgs84Projection)(a),e.next=11,Object(_.fetchTextByCoordinates)(c);case 11:return l=e.sent,u.setDisplayName(null==l?void 0:l.getDisplayName()),u.setCoordinates(a),e.abrupt("break",18);case 15:i++,e.next=2;break;case 18:d.model.findRoute();case 19:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())},onWaypointsDrawEnd:function(n){var o=this;return R(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.transformCoordinatesLocalToWgs84Projection)(n.feature.getGeometry().getCoordinates()),e.next=3,Object(_.fetchTextByCoordinates)(t);case 3:r=e.sent,o.model.getWaypoints().addWaypoint({feature:n.feature,displayName:null==r?void 0:r.getDisplayName()}),o.model.findRoute();case 6:case"end":return e.stop()}},e)}))()},onWaypointSelect:function(e){var t,r=b(e.selected);try{for(r.s();!(t=r.n()).done;){var n=t.value.get("routingId");Number.isInteger(n)&&this.model.getWaypoints().removeWaypoint(n)}}catch(e){r.e(e)}finally{r.f()}i.default.getFeatures().clear()},getAvoidPolygonsWgs84:function(){var e,t={type:"MultiPolygon",coordinates:[]},r=b(f.default.getFeatures());try{for(r.s();!(e=r.n()).done;){var n,o=e.value.getGeometry().getCoordinates(),i=[],a=b(o);try{for(a.s();!(n=a.n()).done;){var s,u=n.value,c=[],l=b(u);try{for(l.s();!(s=l.n()).done;){var d=s.value;c.push(Object(w.transformCoordinatesLocalToWgs84Projection)(d))}}catch(e){l.e(e)}finally{l.f()}i.push(c)}}catch(e){a.e(e)}finally{a.f()}t.coordinates.push(i)}}catch(e){r.e(e)}finally{r.f()}return t},getRouteExtent:function(){return console.log("point 1",this.model.getWaypoints().at(0).getCoordinates()),console.log("point 2",this.model.getWaypoints().at(1).getCoordinates()),this.getRouteFeature().getGeometry().getExtent()},onAvoidAreasDrawEnd:function(){var t=this;return R(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){return t.model.findRoute()},0);case 1:case"end":return e.stop()}},e)}))()},onAvoidAreasSelect:function(e){var t,r=this,n=b(e.selected);try{for(n.s();!(t=n.n()).done;){var o=t.value;f.default.removeFeature(o)}}catch(e){n.e(e)}finally{n.f()}setTimeout(function(){return r.model.findRoute()},0)},updateLineStringFeature:function(){var e=this.getRouteFeature(),t=this.model.getRoutingResult();t&&!t.getError()?(e.getGeometry().setCoordinates(t.getLineString()),e.set("avoidFeaturesOptions",JSON.parse(JSON.stringify(this.model.getAvoidFeatureOptions()))),e.set("speedProfile",JSON.parse(JSON.stringify(this.model.getSpeedProfile()))),e.set("preference",JSON.parse(JSON.stringify(this.model.getPreference()))),e.set("hasAvoidPolygons",0<f.default.getFeatures().length),t.getZoomToExtent()&&v.Radio.trigger("Map","zoomToExtent",a.default.getExtent())):e.getGeometry().setCoordinates([])},createWaypointsDrawInteraction:function(){this.removeMapInteractions(),v.Radio.trigger("Map","addInteraction",u.default),v.Radio.trigger("Map","addInteraction",c.default),v.Radio.trigger("Map","addInteraction",o.default),v.Radio.trigger("Map","addInteraction",t.default),v.Radio.trigger("Map","addInteraction",n.default),v.Radio.trigger("Map","addInteraction",i.default)},removeWaypointsDrawInteraction:function(){v.Radio.trigger("Map","removeInteraction",u.default),v.Radio.trigger("Map","removeInteraction",c.default),v.Radio.trigger("Map","removeInteraction",o.default),v.Radio.trigger("Map","removeInteraction",t.default),v.Radio.trigger("Map","removeInteraction",n.default),v.Radio.trigger("Map","removeInteraction",i.default)},createAvoidAreasDrawInteraction:function(){this.removeMapInteractions(),v.Radio.trigger("Map","addInteraction",h.default),v.Radio.trigger("Map","addInteraction",d.default),v.Radio.trigger("Map","addInteraction",g.default)},removeAvoidAreasDrawInteraction:function(){v.Radio.trigger("Map","removeInteraction",d.default),v.Radio.trigger("Map","removeInteraction",g.default),v.Radio.trigger("Map","removeInteraction",h.default)},createAvoidAreasSelectInteraction:function(){this.removeMapInteractions(),v.Radio.trigger("Map","addInteraction",p.default),this.avoidAreasSelectListener=v.Radio.request("Map","registerListener","pointermove",function(e){var t=this.forEachFeatureAtPixel(e.pixel,function(e,t){return t===l.default});v.Radio.request("Map","getMap").getViewport().style.cursor=t?"pointer":""})},removeAvoidAreasSelectInteraction:function(){v.Radio.trigger("Map","removeInteraction",p.default),v.Radio.trigger("Map","unregisterListener",this.avoidAreasSelectListener)},removeMapInteractions:function(){this.removeWaypointsDrawInteraction(),this.removeAvoidAreasDrawInteraction(),this.removeAvoidAreasSelectInteraction()}});F.default=C}.call(this,E(5))}}]);