(window.webpackJsonp=window.webpackJsonp||[]).push([[199,196,197,198,201],{1836:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",function(){return o});var o=function(){function a(e,t){var n=e.x,r=e.y,o=e.z,u=e.dist;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=[n,r,o];t&&(i=t(i)),this.distance=u,this.coordinates=i}var e,t,n;return e=a,(t=[{key:"getDistance",value:function(){return this.distance}},{key:"getX",value:function(){return this.coordinates[0]}},{key:"getY",value:function(){return this.coordinates[1]}},{key:"getZ",value:function(){return this.coordinates[2]}}])&&r(e.prototype,t),n&&r(e,n),a}()},1840:function(e,a,c){"use strict";c.r(a),function(t){c.d(a,"transformCoordinatesLocalToWgs84Projection",function(){return e}),c.d(a,"transformCoordinatesWgs84ToLocalProjection",function(){return r}),c.d(a,"transformCoordinatesLocalToEPSG25833Projection",function(){return o}),c.d(a,"transformCoordinatesEPSG25833ToLocalProjection",function(){return u}),c.d(a,"calculateRelativeDistance",function(){return i});var n=c(55),l=c(63),g=c(50),v=c(1);function e(e){return Object(n.e)(t.request("MapView","getProjection").getCode(),"EPSG:4326",e)}function r(e){return Object(n.e)("EPSG:4326",t.request("MapView","getProjection").getCode(),e)}function o(e){return Object(n.e)(t.request("MapView","getProjection").getCode(),"EPSG:25833",e)}function u(e){return Object(n.e)("EPSG:25833",t.request("MapView","getProjection").getCode(),e)}function i(e,t){for(var n=e.getGeometry(),r=n.getClosestPoint(t),o=n.getCoordinates(),u=0,i=!1,a=0;a<o.length-1;a++){var c=o[a],s=o[a+1],f=new l.a([c,s]);if(f.intersectsExtent(Object(v.c)(new g.a(r).getExtent(),.001))){u+=new l.a([c,r]).getLength(),i=!0;break}u+=f.getLength()}return i?u/n.getLength():0}}.call(this,c(4))},1847:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var o=n(3);n(1836);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.steps=e,this.error=t}var e,t,r;return e=n,r=[{key:"createErrorResult",value:function(e){return new n(null,e)}}],(t=[{key:"getSteps",value:function(){return this.steps}},{key:"getError",value:function(){return this.error}},{key:"hasNoError",value:function(){return!this.error}},{key:"getDistance",value:function(){var e=o.default.last(this.steps);return e?e.getDistance():0}},{key:"getMaxHeight",value:function(){return o.default.max(this.steps.map(function(e){return e.getZ()}))}},{key:"getMinHeight",value:function(){return o.default.min(this.steps.map(function(e){return e.getZ()}))}},{key:"getAscent",value:function(){return o.default.reduce(this.getHeightDifferences(),function(e,t){return 0<t?t+e:e},0)}},{key:"getDescent",value:function(){return Math.abs(o.default.reduce(this.getHeightDifferences(),function(e,t){return t<0?t+e:e},0))}},{key:"getHeightDifferences",value:function(){return this.steps.map(function(e,t,n){return 0==t?0:e.getZ()-n[t-1].getZ()})}},{key:"convertToGraphData",value:function(){return this.steps.map(function(e){return{x:e.getDistance(),y:e.getZ()}})}},{key:"convertToGraphDataAsPairs",value:function(){return this.convertToGraphData().reduce(function(e,t,n,r){return n<r.length-1&&e.push(r.slice(n,n+2)),e},[])}}])&&u(e.prototype,t),r&&u(e,r),n}()},1857:function(e,t,n){"use strict";n.r(t),n.d(t,"ResultError",function(){return r});var r=Object.freeze({NO_PROFILE_FOUND:{i18n:"noProfileFound"},FETCHING_FAILED:{i18n:"profileFetchFailed"},SERVICE_UNAVAILABLE:{i18n:"profileServiceUnavailable"}})},1878:function(e,r,o){"use strict";o.r(r),function(s){o.d(r,"fetchElevationProfile",function(){return t});var e=o(195),f=o.n(e),l=o(1840),g=o(1857),v=o(1847),d=o(1836);function c(e,t,n,r,o,u,i){try{var a=e[u](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function t(e){return n.apply(this,arguments)}function n(){var a;return a=regeneratorRuntime.mark(function e(t){var n,r,o,u,i,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.request("ElevationProfile","getSettings"),r={type:"LineString",coordinates:t.map(l.transformCoordinatesLocalToEPSG25833Projection)},o=null,e.prev=2,u=n.serviceId,i=s.request("RestReader","getServiceById",u).get("url"),a="".concat(i,"/geojson/line"),e.next=6,f.a.post(a,r,{timeout:n.timeout});case 6:o=e.sent,e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(2),404==e.t0.response.status)return e.abrupt("return",v.default.createErrorResult(g.ResultError.NO_PROFILE_FOUND));e.next=13;break;case 13:return e.abrupt("return",v.default.createErrorResult(g.ResultError.FETCHING_FAILED));case 14:return c=o.data.map(function(e){return new d.default(e,l.transformCoordinatesEPSG25833ToLocalProjection)}),e.abrupt("return",new v.default(c));case 16:case"end":return e.stop()}},e,null,[[2,9]])}),(n=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=a.apply(e,i);function o(e){c(r,t,n,o,u,"next",e)}function u(e){c(r,t,n,o,u,"throw",e)}o(void 0)})}).apply(this,arguments)}}.call(this,o(4))}}]);