(window.webpackJsonp=window.webpackJsonp||[]).push([[236,234,239],{1833:function(e,t,r){"use strict";r.r(t),function(o){r.d(t,"MapFuncs",function(){return l});var l={getOlMap:function(){return o.request("Map","getMap")},getLayerById:function(t){return o.request("Map","getLayers").getArray().find(function(e){return e.get("id")===t})},getMapViewerState:function(){var e=l.getOlMap(),t=o.request("ModelList","getCollection"),r=t.where({type:"layer"}),n=t.where({type:"folder"}),a=[].concat(r,n),i={};return i.extent=e.getView().calculateExtent(),i.layers=a.map(function(e){var t=e.toJSON();return{id:t.id,transparency:t.transparency,isSelected:t.isSelected,selectionIDX:t.selectionIDX}}),i},applyMapViewerState:function(e){e.extent&&o.trigger("Map","zoomToExtent",e.extent),e.layers&&(e.layers.forEach(function(e){var t=o.request("ModelList","getModelByAttributes",{id:e.id});t&&t.set(e)}),o.trigger("Util","refreshTree"))}};t.default=l}.call(this,r(4))},1848:function(e,t,n){"use strict";n.r(t),function(a,i){function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n.d(t,"ThemedMapFuncs",function(){return r});var r={applyThemedMap:function(e){e.layers.forEach(function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e),r=e.opacity?-100*e.opacity+100:0;t.isSelected=e.visible,t.visibility=e.visible,t.transparency=r,t.name=e.title,t.id=e.uuid+"-"+Math.floor(100*Math.random()),t.tilesize=e.tilesize?e.tilesize:256,t.gfiAttributes=e.gfiAttributes?e.gfiAttributes:"showAll",a.Radio.trigger("Parser","addWmsLayer",t);var n=i.request("ModelList","getModelByAttributes",{name:e.title}).get("id");i.trigger("ModelList","setModelAttributesById",n,{bbServiceUuid:e.uuid}),i.trigger("ModelList","setModelAttributesById",n,{bbThemedMapLayer:!0})}),a.Radio.trigger("Map","zoomToExtent",e.extent)},getExternalLayerModels:function(){var e=i.request("ModelList","getCollection"),t=e.where({type:"layer"}),r=e.where({type:"folder"});return[].concat(t,r).filter(function(e){var t=e.toJSON();return t.importModule&&"importWmsExternal"===t.importLayerType||t.bbThemedMapLayer})},getExternalLayers:function(){var e=r.getExternalLayerModels();return e.sort(function(e,t){return e.get("selectionIDX")-t.get("selectionIDX")}),e.map(function(e){var t=e.toJSON(),r="ignore"===t.legendURL?void 0:t.legendURL;return{uuid:t.bbServiceUuid,url:t.url,layers:t.layers,title:t.name,transparent:t.transparent,opacity:Number((1-t.transparency/100).toFixed(2)),visible:t.isSelected,legendURL:r,tilesize:t.tilesize,gfiAttributes:t.gfiAttributes}})},removeExternalLayers:function(){var e=r.getExternalLayerModels();a.Radio.trigger("MapMarker","hideWktFeature"),e.forEach(function(e){a.Radio.trigger("ClassicTree","removeLayerById",e.get("id"))})},getThemedMapConf:function(){var e=i.request("Map","getMap"),t={};return t.extent=e.getView().calculateExtent(),t.layers=r.getExternalLayers(),t}};t.default=r}.call(this,n(5),n(4))},1943:function(e,t,r){"use strict";r.r(t),function(g,y,b){r.d(t,"ResetButton",function(){return e});var h=r(1833),v=r(1848);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var e={addResetButton:function(e,t,r,n){if(!e)return console.warn("Warning: No state object passed in 'addResetButton'. Exit function without button rendering."),null;var a=e,i=null;Array.isArray(e)&&0<e.length&&(a=e[0],1<e.length&&(i=e[1]));var o=t,l=r,s={class:"btn btn-default dropdown",type:"button",icon:"glyphicon glyphicon-refresh",disabled:!1,text:"Karte zurücksetzen"};t||(o=function(){},console.warn("Warning: No callback function for the set map viewer state button was defined.")),r||(l="#root"),n&&(s=w(w({},s),n));function c(){v.default.removeExternalLayers(),h.default.applyMapViewerState(a),i&&v.default.applyThemedMap(i),o(function(e){e&&y.trigger("Alert","alert",{kategorie:"alert-info",text:e})})}var u=g("<button></button>"),p=g(l);if(s.class&&u.attr("class",s.class),s.type&&u.prop("type",s.type),s.disabled&&u.prop("disabled",s.disabled),s.icon){var d=g("<span></span>");d.attr("class",s.icon),u.append(d),u.append(" ")}return u.append(s.text),u.click(c),0===p.length?null:(p.append(u),b.Radio.channel("i18next").on("languageChanged",function(){return 0===p.length||(u.click(c),p.append(u)),null}),u)},addResetMenuEntry:function(e,t,r){if(!e)return console.warn("Warning: No state object passed in 'addResetMenuEntry'. Exit function without menu entry rendering."),null;var n=e,a=null,i=b.Radio.request("Util","isViewMobile");Array.isArray(e)&&0<e.length&&(n=e[0],1<e.length&&(a=e[1]));var o=t,l={class:i?"list-group-item":"dropdown dropdown-folder",type:"",icon:"glyphicon fas fa-sync fa-lg",text:"Karte zurücksetzen"};t||(o=function(){},console.warn("Warning: No callback function for the set map viewer state menu entry was defined.")),r&&(l=w(w({},l),r));function s(){v.default.removeExternalLayers(),h.default.applyMapViewerState(n),a&&v.default.applyThemedMap(a),o(function(e){e&&y.trigger("Alert","alert",{kategorie:"alert-info",text:e})})}var c=g("<li><a href='#' title='"+l.text+"'></a></li>"),u=g("#root");i&&c.append("<span class='title'>"+l.text+"</span"),l.class&&c.attr("class",l.class),l.type&&c.prop("type",l.type);var p=g("<span></span>"),d=c.find("a");p.attr("class",l.icon),d.append(p),d.append(" ");var f=g("<span></span>");return f.attr("class","menuitem"),d.append(f),c.click(s),0===u.length?null:(u.append(c),b.Radio.channel("i18next").on("languageChanged",function(){return 0===u.length||(c.click(s),u.append(c)),null}),c)}};t.default=e}.call(this,r(10),r(4),r(5))}}]);