(window.webpackJsonp=window.webpackJsonp||[]).push([[259,245,247,248,258],{1798:function(e,t,r){"use strict";r.r(t),r.d(t,"SpeedProfile",function(){return n}),r.d(t,"AvoidFeatureOption",function(){return o}),r.d(t,"Optimization",function(){return i}),r.d(t,"DownloadFormat",function(){return a}),r.d(t,"ResultError",function(){return u});var n=Object.freeze({CAR:{id:"CAR",i18n:"car",icon:"fa-car",orsKey:"driving-car"},HGV:{id:"HGV",i18n:"hgv",icon:"fa-truck",orsKey:"driving-hgv"},FOOT:{id:"FOOT",i18n:"foot",icon:"fa-walking",orsKey:"foot-walking"},CYCLING:{id:"CYCLING",i18n:"cycling",icon:"fa-bicycle",orsKey:"cycling-regular"},WHEELCHAIR:{id:"WHEELCHAIR",i18n:"wheelchair",icon:"fa-wheelchair",orsKey:"wheelchair"}}),o=Object.freeze({HIGHWAYS:{id:"HIGHWAYS",i18n:"highways",availableProfiles:["CAR","HGV"],orsKey:"highways"},TOLLWAYS:{id:"TOLLWAYS",i18n:"tollways",availableProfiles:["CAR","HGV"],orsKey:"tollways"},FERRIES:{id:"FERRIES",i18n:"ferries",availableProfiles:["CAR","HGV","CYCLING","FOOT","WHEELCHAIR"],orsKey:"ferries"},STEPS:{id:"STEPS",i18n:"steps",availableProfiles:["CYCLING","FOOT","WHEELCHAIR"],orsKey:"steps"}}),i=Object.freeze({TIME:{id:"TIME",i18n:"time",orsKey:"time",multiplicator:60,unit:"min"},DISTANCE:{id:"DISTANCE",i18n:"distance",orsKey:"distance",multiplicator:1e3,unit:"km"}}),a=Object.freeze({GEOJSON:"GEOJSON",KML:"KML"}),u=Object.freeze({NO_ISOCHRONES_FOUND:{i18n:"noIsochronesFound"},AVOID_AREA_TOO_LARGE:{i18n:"avoidAreasTooLarge"},FETCHING_FAILED:{i18n:"fetchingFailed"}})},1800:function(e,o,i){"use strict";i.r(o),function(t){i.d(o,"transformCoordinatesLocalToWgs84Projection",function(){return e}),i.d(o,"transformCoordinatesWgs84ToLocalProjection",function(){return n});var r=i(55);function e(e){return Object(r.e)(t.request("MapView","getProjection").getCode(),"EPSG:4326",e)}function n(e){return Object(r.e)("EPSG:4326",t.request("MapView","getProjection").getCode(),e)}}.call(this,i(4))},1862:function(e,t,r){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t),r.d(t,"default",function(){return n});var n=function(){function n(e){var t=e.bbox,r=e.error;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.bbox=t,this.areas=[],this.error=r}var e,t,r;return e=n,(t=[{key:"getBbox",value:function(){return this.bbox}},{key:"getAreas",value:function(){return this.areas}},{key:"addArea",value:function(e){return this.areas.push(e)}},{key:"getError",value:function(){return this.error}}])&&o(e.prototype,t),r&&o(e,r),n}()},1880:function(e,t,r){"use strict";r.r(t),function(a){function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"default",function(){return e});var e=function(){function s(e,t,r,n,o,i,a,u,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.coordinates=e,this.groupIndex=t,this.value=r,this.maximum=n,this.interval=o,this.speedProfile=i,this.optimization=a,this.avoidSpeedProfileOptions=u,this.displayValue=c,this.calculateColor()}var e,t,r;return e=s,(t=[{key:"calculateColor",value:function(){var e=a.request("Reachability","getSettings").isochrones.styleAreas,t=e.startColor,r=e.endColor,n=this.getValue()-this.getInterval(),o=this.getMaximum()-this.getInterval(),i=0==n||0==o?0:n/o;this.color=[(r[0]-t[0])*i+t[0],(r[1]-t[1])*i+t[1],(r[2]-t[2])*i+t[2]]}},{key:"getCoordinates",value:function(){return this.coordinates}},{key:"getGroupIndex",value:function(){return this.groupIndex}},{key:"getValue",value:function(){return this.value}},{key:"getMaximum",value:function(){return this.maximum}},{key:"getInterval",value:function(){return this.interval}},{key:"getSpeedProfile",value:function(){return this.speedProfile}},{key:"getOptimization",value:function(){return this.optimization}},{key:"getColor",value:function(){return this.color}},{key:"getColorRgbString",value:function(){return"#"+((1<<24)+(Math.round(this.color[0])<<16)+(Math.round(this.color[1])<<8)+Math.round(this.color[2])).toString(16).slice(1)}},{key:"getAvoidSpeedProfileOptions",value:function(){return this.avoidSpeedProfileOptions}},{key:"getDisplayValue",value:function(){return this.displayValue}},{key:"getGeojsonFeature",value:function(e){return{type:"Feature",geometry:{type:"Polygon",coordinates:this.getCoordinates()},properties:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({value:this.getValue(),interval:this.getInterval(),maximum:this.getMaximum(),color:this.getColor(),groupIndex:this.getGroupIndex(),optimization:this.getOptimization(),speedProfile:this.getSpeedProfile(),avoidSpeedProfileOptions:this.getAvoidSpeedProfileOptions()},e)}}}])&&i(e.prototype,t),r&&i(e,r),s}()}.call(this,r(4))},1948:function(e,i,a){"use strict";a.r(i),function(E){a.d(i,"fetchOrsIsochrones",function(){return t});var e=a(195),I=a.n(e),A=a(1862),k=a(1880),x=a(1798),R=a(1800);function T(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function t(e){return r.apply(this,arguments)}function r(){var u;return u=regeneratorRuntime.mark(function e(t){var r,n,o,i,a,u,c,s,l,f,p,d,h,y,g,v,b,O,m,P,w,j,S,C;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.coordinates,n=t.speedProfile,o=t.optimization,i=t.range,a=t.interval,u=t.avoidFeatureOptions,c=E.request("Reachability","getSettings").isochrones,s=c.serviceId,l=E.request("RestReader","getServiceById",s),f="".concat(l.get("url"),"/v2/isochrones/").concat(x.SpeedProfile[n].orsKey,"/geojson"),p=x.Optimization[o],d=i*p.multiplicator,h=a*p.multiplicator,O=b=v=g=y=null,e.prev=3,e.next=6,I.a.post(f,{interval:h,locations:[r],location_type:"start",range_type:p.orsKey,range:[d],options:L({},0<u.length&&{avoid_features:u.map(function(e){return x.AvoidFeatureOption[e].orsKey})}),area_units:"m",units:"m"});case 6:O=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",new A.default({error:x.ResultError.FETCHING_FAILED}));case 12:for(y=O.data,g=Object(R.transformCoordinatesWgs84ToLocalProjection)([y.bbox[0],y.bbox[1]]),v=Object(R.transformCoordinatesWgs84ToLocalProjection)([y.bbox[2],y.bbox[3]]),b=new A.default([g[0],g[1],v[0],v[1]]),m=y.features.length-1;0<=m;m--){P=y.features[m],w=[],j=T(P.geometry.coordinates[0]);try{for(j.s();!(S=j.n()).done;)C=S.value,w.push(Object(R.transformCoordinatesWgs84ToLocalProjection)(C))}catch(e){j.e(e)}finally{j.f()}b.addArea(new k.default([w],P.properties.group_index,P.properties.value,d,h,n,o,u.map(function(e){return e.id}),P.properties.value/p.multiplicator))}return e.abrupt("return",b);case 18:case"end":return e.stop()}},e,null,[[3,9]])}),(r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){s(n,t,r,o,i,"next",e)}function i(e){s(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments)}}.call(this,a(4))}}]);